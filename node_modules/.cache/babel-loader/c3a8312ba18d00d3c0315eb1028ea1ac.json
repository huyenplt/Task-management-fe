{"ast":null,"code":"import _objectSpread from \"/Users/macbookpro/Documents/projects/task-management-fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/macbookpro/Documents/projects/task-management-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport axios from 'axios';\nimport { reactive } from 'vue'; // import { api_url } from '../../utils/const';\n\nexport default {\n  setup: function setup() {\n    var form = reactive({\n      name: '',\n      email: '',\n      password: '',\n      password_confirmation: ''\n    });\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response, token;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(form);\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.post('http://127.0.0.1:8000/api/register', _objectSpread({}, form));\n\n              case 4:\n                response = _context.sent;\n                token = response.data.token;\n                sessionStorage.setItem('token', token);\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 9]]);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      form: form,\n      handleSubmit: handleSubmit\n    };\n  }\n};","map":{"version":3,"mappings":";;;AA4DA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,KAAzB,C,CACA;;AAEA,eAAe;AACXC,OADW,mBACH;AACJ,QAAMC,IAAG,GAAIF,QAAQ,CAAC;AAClBG,UAAI,EAAE,EADY;AAElBC,WAAK,EAAE,EAFW;AAGlBC,cAAQ,EAAE,EAHQ;AAIlBC,2BAAqB,EAAE;AAJL,KAAD,CAArB;;AAOA,QAAMC,YAAW;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBC,uBAAO,CAACC,GAAR,CAAYP,IAAZ;AADiB;AAAA;AAAA,uBAGUH,KAAK,CAACW,IAAN,CAAW,oCAAX,oBAChBR,IADgB,EAHV;;AAAA;AAGPS,wBAHO;AAMPC,qBANO,GAMCD,QAAQ,CAACE,IAAT,CAAcD,KANf;AAObE,8BAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCH,KAAhC;AAPa;AAAA;;AAAA;AAAA;AAAA;AAUbJ,uBAAO,CAACC,GAAR;;AAVa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAXF,YAAW;AAAA;AAAA;AAAA,OAAjB;;AAcA,WAAO;AACHL,UAAI,EAAJA,IADG;AAEHK,kBAAW,EAAXA;AAFG,KAAP;AAIJ;AA3BW,CAAf","names":["axios","reactive","setup","form","name","email","password","password_confirmation","handleSubmit","console","log","post","response","token","data","sessionStorage","setItem"],"sourceRoot":"","sources":["/Users/macbookpro/Documents/projects/task-management-fe/src/views/Register.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"form-login form-wrap\">\n      <form @submit.prevent=\"handleSubmit\">\n        <h3>Register</h3>\n        <div v-show=\"error\" class=\"alert alert-danger\" role=\"alert\">\n          {{ errorMsg }}\n        </div>\n        <div class=\"form-group\">\n          <label for=\"\">Name</label>\n          <input\n            type=\"text\"\n            class=\"form-control\"\n            v-model=\"form.name\"\n            placeholder=\"name\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            class=\"form-control\"\n            v-model=\"form.email\"\n            placeholder=\"Email\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"\">Password</label>\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            v-model=\"form.password\"\n            placeholder=\"Password\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"\">Password Confirmation</label>\n          <input\n            type=\"password_confirmation\"\n            class=\"form-control\"\n            v-model=\"form.password_confirmation\"\n            placeholder=\"Password Confirmation\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <button class=\"btn btn-primary btn-block\">Login</button>\n          Don't have an account yet?\n          <!-- <router-link to=\"/register\">Create a new account</router-link> -->\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nimport { reactive } from 'vue'\n// import { api_url } from '../../utils/const';\n\nexport default {\n    setup() {\n        const form = reactive({\n            name: '',\n            email: '',\n            password: '',\n            password_confirmation: ''\n        })\n\n        const handleSubmit = async () => {\n            console.log(form)\n            try {\n                const response = await axios.post('http://127.0.0.1:8000/api/register', {\n                    ...form\n                });\n                const token = response.data.token;\n                sessionStorage.setItem('token', token)\n\n            } catch (err) {\n                console.log(err);\n            }\n        }\n\n        return {\n            form,\n            handleSubmit\n        }\n    }\n}\n\n</script>\n\n<style scoped>\n.btn {\n  margin-right: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}