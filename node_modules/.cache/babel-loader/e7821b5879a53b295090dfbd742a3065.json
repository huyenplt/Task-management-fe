{"ast":null,"code":"import \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport { __assign, __decorate } from \"tslib\";\nimport clamp from 'lodash-es/clamp';\nimport { Options } from './options';\nimport { setStyle, clearEventsOn } from './utils/';\nimport { debounce } from './decorators/';\nimport { TrackController } from './track/';\nimport { getSize, update, isVisible } from './geometry/';\nimport { scrollTo, setPosition, scrollIntoView } from './scrolling/';\nimport { initPlugins } from './plugin';\nimport * as eventHandlers from './events/'; // DO NOT use WeakMap here\n// .getAll() methods requires `scrollbarMap.values()`\n\nexport var scrollbarMap = new Map();\n\nvar Scrollbar =\n/** @class */\nfunction () {\n  function Scrollbar(containerEl, options) {\n    var _this = this;\n    /**\n     * Current scrolling offsets\n     */\n\n\n    this.offset = {\n      x: 0,\n      y: 0\n    };\n    /**\n     * Max-allowed scrolling offsets\n     */\n\n    this.limit = {\n      x: Infinity,\n      y: Infinity\n    };\n    /**\n     * Container bounding rect\n     */\n\n    this.bounding = {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }; // private _observer: ResizeObserver;\n\n    this._plugins = [];\n    this._momentum = {\n      x: 0,\n      y: 0\n    };\n    this._listeners = new Set();\n    this.containerEl = containerEl;\n    var contentEl = this.contentEl = document.createElement('div');\n    this.options = new Options(options); // mark as a scroll element\n\n    containerEl.setAttribute('data-scrollbar', 'true'); // make container focusable\n\n    containerEl.setAttribute('tabindex', '-1');\n    setStyle(containerEl, {\n      overflow: 'hidden',\n      outline: 'none'\n    }); // enable touch event capturing in IE, see:\n    // https://github.com/idiotWu/smooth-scrollbar/issues/39\n\n    if (window.navigator.msPointerEnabled) {\n      containerEl.style.msTouchAction = 'none';\n    } // mount content\n\n\n    contentEl.className = 'scroll-content';\n    Array.from(containerEl.childNodes).forEach(function (node) {\n      contentEl.appendChild(node);\n    });\n    containerEl.appendChild(contentEl); // attach track\n\n    this.track = new TrackController(this); // initial measuring\n\n    this.size = this.getSize(); // init plugins\n\n    this._plugins = initPlugins(this, this.options.plugins); // preserve scroll offset\n\n    var scrollLeft = containerEl.scrollLeft,\n        scrollTop = containerEl.scrollTop;\n    containerEl.scrollLeft = containerEl.scrollTop = 0;\n    this.setPosition(scrollLeft, scrollTop, {\n      withoutCallbacks: true\n    }); // FIXME: update typescript\n\n    var ResizeObserver = window.ResizeObserver; // observe\n\n    if (typeof ResizeObserver === 'function') {\n      this._observer = new ResizeObserver(function () {\n        _this.update();\n      });\n\n      this._observer.observe(contentEl);\n    }\n\n    scrollbarMap.set(containerEl, this); // wait for DOM ready\n\n    requestAnimationFrame(function () {\n      _this._init();\n    });\n  }\n\n  Object.defineProperty(Scrollbar.prototype, \"parent\", {\n    /**\n     * Parent scrollbar\n     */\n    get: function get() {\n      var elem = this.containerEl.parentElement;\n\n      while (elem) {\n        var parentScrollbar = scrollbarMap.get(elem);\n\n        if (parentScrollbar) {\n          return parentScrollbar;\n        }\n\n        elem = elem.parentElement;\n      }\n\n      return null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollTop\", {\n    /**\n     * Gets or sets `scrollbar.offset.y`\n     */\n    get: function get() {\n      return this.offset.y;\n    },\n    set: function set(y) {\n      this.setPosition(this.scrollLeft, y);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Scrollbar.prototype, \"scrollLeft\", {\n    /**\n     * Gets or sets `scrollbar.offset.x`\n     */\n    get: function get() {\n      return this.offset.x;\n    },\n    set: function set(x) {\n      this.setPosition(x, this.scrollTop);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Returns the size of the scrollbar container element\n   * and the content wrapper element\n   */\n\n  Scrollbar.prototype.getSize = function () {\n    return getSize(this);\n  };\n  /**\n   * Forces scrollbar to update geometry infomation.\n   *\n   * By default, scrollbars are automatically updated with `100ms` debounce (or `MutationObserver` fires).\n   * You can call this method to force an update when you modified contents\n   */\n\n\n  Scrollbar.prototype.update = function () {\n    update(this);\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onUpdate();\n    });\n  };\n  /**\n   * Checks if an element is visible in the current view area\n   */\n\n\n  Scrollbar.prototype.isVisible = function (elem) {\n    return isVisible(this, elem);\n  };\n  /**\n   * Sets the scrollbar to the given offset without easing\n   */\n\n\n  Scrollbar.prototype.setPosition = function (x, y, options) {\n    var _this = this;\n\n    if (x === void 0) {\n      x = this.offset.x;\n    }\n\n    if (y === void 0) {\n      y = this.offset.y;\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var status = setPosition(this, x, y);\n\n    if (!status || options.withoutCallbacks) {\n      return;\n    }\n\n    this._listeners.forEach(function (fn) {\n      fn.call(_this, status);\n    });\n  };\n  /**\n   * Scrolls to given position with easing function\n   */\n\n\n  Scrollbar.prototype.scrollTo = function (x, y, duration, options) {\n    if (x === void 0) {\n      x = this.offset.x;\n    }\n\n    if (y === void 0) {\n      y = this.offset.y;\n    }\n\n    if (duration === void 0) {\n      duration = 0;\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    scrollTo(this, x, y, duration, options);\n  };\n  /**\n   * Scrolls the target element into visible area of scrollbar,\n   * likes the DOM method `element.scrollIntoView().\n   */\n\n\n  Scrollbar.prototype.scrollIntoView = function (elem, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    scrollIntoView(this, elem, options);\n  };\n  /**\n   * Adds scrolling listener\n   */\n\n\n  Scrollbar.prototype.addListener = function (fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('[smooth-scrollbar] scrolling listener should be a function');\n    }\n\n    this._listeners.add(fn);\n  };\n  /**\n   * Removes listener previously registered with `scrollbar.addListener()`\n   */\n\n\n  Scrollbar.prototype.removeListener = function (fn) {\n    this._listeners[\"delete\"](fn);\n  };\n  /**\n   * Adds momentum and applys delta transformers.\n   */\n\n\n  Scrollbar.prototype.addTransformableMomentum = function (x, y, fromEvent, callback) {\n    this._updateDebounced();\n\n    var finalDelta = this._plugins.reduce(function (delta, plugin) {\n      return plugin.transformDelta(delta, fromEvent) || delta;\n    }, {\n      x: x,\n      y: y\n    });\n\n    var willScroll = !this._shouldPropagateMomentum(finalDelta.x, finalDelta.y);\n\n    if (willScroll) {\n      this.addMomentum(finalDelta.x, finalDelta.y);\n    }\n\n    if (callback) {\n      callback.call(this, willScroll);\n    }\n  };\n  /**\n   * Increases scrollbar's momentum\n   */\n\n\n  Scrollbar.prototype.addMomentum = function (x, y) {\n    this.setMomentum(this._momentum.x + x, this._momentum.y + y);\n  };\n  /**\n   * Sets scrollbar's momentum to given value\n   */\n\n\n  Scrollbar.prototype.setMomentum = function (x, y) {\n    if (this.limit.x === 0) {\n      x = 0;\n    }\n\n    if (this.limit.y === 0) {\n      y = 0;\n    }\n\n    if (this.options.renderByPixels) {\n      x = Math.round(x);\n      y = Math.round(y);\n    }\n\n    this._momentum.x = x;\n    this._momentum.y = y;\n  };\n  /**\n   * Update options for specific plugin\n   *\n   * @param pluginName Name of the plugin\n   * @param [options] An object includes the properties that you want to update\n   */\n\n\n  Scrollbar.prototype.updatePluginOptions = function (pluginName, options) {\n    this._plugins.forEach(function (plugin) {\n      if (plugin.name === pluginName) {\n        Object.assign(plugin.options, options);\n      }\n    });\n  };\n\n  Scrollbar.prototype.destroy = function () {\n    var _a = this,\n        containerEl = _a.containerEl,\n        contentEl = _a.contentEl;\n\n    clearEventsOn(this);\n\n    this._listeners.clear();\n\n    this.setMomentum(0, 0);\n    cancelAnimationFrame(this._renderID);\n\n    if (this._observer) {\n      this._observer.disconnect();\n    }\n\n    scrollbarMap[\"delete\"](this.containerEl); // restore contents\n\n    var childNodes = Array.from(contentEl.childNodes);\n\n    while (containerEl.firstChild) {\n      containerEl.removeChild(containerEl.firstChild);\n    }\n\n    childNodes.forEach(function (el) {\n      containerEl.appendChild(el);\n    }); // reset scroll position\n\n    setStyle(containerEl, {\n      overflow: ''\n    });\n    containerEl.scrollTop = this.scrollTop;\n    containerEl.scrollLeft = this.scrollLeft; // invoke plugin.onDestroy\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onDestroy();\n    });\n\n    this._plugins.length = 0;\n  };\n\n  Scrollbar.prototype._init = function () {\n    var _this = this;\n\n    this.update(); // init evet handlers\n\n    Object.keys(eventHandlers).forEach(function (prop) {\n      eventHandlers[prop](_this);\n    }); // invoke `plugin.onInit`\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onInit();\n    });\n\n    this._render();\n  };\n\n  Scrollbar.prototype._updateDebounced = function () {\n    this.update();\n  }; // check whether to propagate monmentum to parent scrollbar\n  // the following situations are considered as `true`:\n  //         1. continuous scrolling is enabled (automatically disabled when overscroll is enabled)\n  //         2. scrollbar reaches one side and is not about to scroll on the other direction\n\n\n  Scrollbar.prototype._shouldPropagateMomentum = function (deltaX, deltaY) {\n    if (deltaX === void 0) {\n      deltaX = 0;\n    }\n\n    if (deltaY === void 0) {\n      deltaY = 0;\n    }\n\n    var _a = this,\n        options = _a.options,\n        offset = _a.offset,\n        limit = _a.limit;\n\n    if (!options.continuousScrolling) return false; // force an update when scrollbar is \"unscrollable\", see #106\n\n    if (limit.x === 0 && limit.y === 0) {\n      this._updateDebounced();\n    }\n\n    var destX = clamp(deltaX + offset.x, 0, limit.x);\n    var destY = clamp(deltaY + offset.y, 0, limit.y);\n    var res = true; // offsets are not about to change\n    // `&=` operator is not allowed for boolean types\n\n    res = res && destX === offset.x;\n    res = res && destY === offset.y; // current offsets are on the edge\n\n    res = res && (offset.x === limit.x || offset.x === 0 || offset.y === limit.y || offset.y === 0);\n    return res;\n  };\n\n  Scrollbar.prototype._render = function () {\n    var _momentum = this._momentum;\n\n    if (_momentum.x || _momentum.y) {\n      var nextX = this._nextTick('x');\n\n      var nextY = this._nextTick('y');\n\n      _momentum.x = nextX.momentum;\n      _momentum.y = nextY.momentum;\n      this.setPosition(nextX.position, nextY.position);\n    }\n\n    var remain = __assign({}, this._momentum);\n\n    this._plugins.forEach(function (plugin) {\n      plugin.onRender(remain);\n    });\n\n    this._renderID = requestAnimationFrame(this._render.bind(this));\n  };\n\n  Scrollbar.prototype._nextTick = function (direction) {\n    var _a = this,\n        options = _a.options,\n        offset = _a.offset,\n        _momentum = _a._momentum;\n\n    var current = offset[direction];\n    var remain = _momentum[direction];\n\n    if (Math.abs(remain) <= 0.1) {\n      return {\n        momentum: 0,\n        position: current + remain\n      };\n    }\n\n    var nextMomentum = remain * (1 - options.damping);\n\n    if (options.renderByPixels) {\n      nextMomentum |= 0;\n    }\n\n    return {\n      momentum: nextMomentum,\n      position: current + remain - nextMomentum\n    };\n  };\n\n  __decorate([debounce(100, {\n    leading: true\n  })], Scrollbar.prototype, \"_updateDebounced\", null);\n\n  return Scrollbar;\n}();\n\nexport { Scrollbar };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AAEA,SAASC,OAAT,QAAwB,WAAxB;AAEA,SACEC,QADF,EAEEC,aAFF,QAGO,UAHP;AAKA,SACEC,QADF,QAEO,eAFP;AAIA,SACEC,eADF,QAEO,UAFP;AAIA,SACEC,OADF,EAEEC,MAFF,EAGEC,SAHF,QAIO,aAJP;AAMA,SACEC,QADF,EAEEC,WAFF,EAGEC,cAHF,QAIO,cAJP;AAMA,SACEC,WADF,QAEO,UAFP;AAIA,OAAO,KAAKC,aAAZ,MAA+B,WAA/B,C,CAIA;AACA;;AACA,OAAO,IAAMC,YAAY,GAAG,IAAIC,GAAJ,EAArB;;AAEP;AAAA;AAAA;AAgGE,qBACEC,WADF,EAEEC,OAFF,EAEuC;AAFvC;AAzEA;;;;;AAGA,kBAAS;AACPC,OAAC,EAAE,CADI;AAEPC,OAAC,EAAE;AAFI,KAAT;AAKA;;;;AAGA,iBAAQ;AACND,OAAC,EAAEE,QADG;AAEND,OAAC,EAAEC;AAFG,KAAR;AAKA;;;;AAGA,oBAAW;AACTC,SAAG,EAAE,CADI;AAETC,WAAK,EAAE,CAFE;AAGTC,YAAM,EAAE,CAHC;AAITC,UAAI,EAAE;AAJG,KAAX,CAwDuC,CARvC;;AACQ,oBAAgC,EAAhC;AAEA,qBAAY;AAAEN,OAAC,EAAE,CAAL;AAAQC,OAAC,EAAE;AAAX,KAAZ;AACA,sBAAa,IAAIM,GAAJ,EAAb;AAMN,SAAKT,WAAL,GAAmBA,WAAnB;AACA,QAAMU,SAAS,GAAG,KAAKA,SAAL,GAAiBC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAnC;AAEA,SAAKX,OAAL,GAAe,IAAIhB,OAAJ,CAAYgB,OAAZ,CAAf,CALqC,CAOrC;;AACAD,eAAW,CAACa,YAAZ,CAAyB,gBAAzB,EAA2C,MAA3C,EARqC,CAUrC;;AACAb,eAAW,CAACa,YAAZ,CAAyB,UAAzB,EAAqC,IAArC;AACA3B,YAAQ,CAACc,WAAD,EAAc;AACpBc,cAAQ,EAAE,QADU;AAEpBC,aAAO,EAAE;AAFW,KAAd,CAAR,CAZqC,CAiBrC;AACA;;AACA,QAAIC,MAAM,CAACC,SAAP,CAAiBC,gBAArB,EAAuC;AACrClB,iBAAW,CAACmB,KAAZ,CAAkBC,aAAlB,GAAkC,MAAlC;AACD,KArBoC,CAuBrC;;;AACAV,aAAS,CAACW,SAAV,GAAsB,gBAAtB;AAEAC,SAAK,CAACC,IAAN,CAAWvB,WAAW,CAACwB,UAAvB,EAAmCC,OAAnC,CAA2C,UAACC,IAAD,EAAK;AAC9ChB,eAAS,CAACiB,WAAV,CAAsBD,IAAtB;AACD,KAFD;AAIA1B,eAAW,CAAC2B,WAAZ,CAAwBjB,SAAxB,EA9BqC,CAgCrC;;AACA,SAAKkB,KAAL,GAAa,IAAIvC,eAAJ,CAAoB,IAApB,CAAb,CAjCqC,CAmCrC;;AACA,SAAKwC,IAAL,GAAY,KAAKvC,OAAL,EAAZ,CApCqC,CAsCrC;;AACA,SAAKwC,QAAL,GAAgBlC,WAAW,CAAC,IAAD,EAAO,KAAKK,OAAL,CAAa8B,OAApB,CAA3B,CAvCqC,CAyCrC;;AACQ;AAAA,QAAYC,iCAAZ;AACRhC,eAAW,CAACiC,UAAZ,GAAyBjC,WAAW,CAACgC,SAAZ,GAAwB,CAAjD;AACA,SAAKtC,WAAL,CAAiBuC,UAAjB,EAA6BD,SAA7B,EAAwC;AACtCE,sBAAgB,EAAE;AADoB,KAAxC,EA5CqC,CAgDrC;;AACA,QAAMC,cAAc,GAAInB,MAAc,CAACmB,cAAvC,CAjDqC,CAmDrC;;AACA,QAAI,OAAOA,cAAP,KAA0B,UAA9B,EAA0C;AACxC,WAAKC,SAAL,GAAiB,IAAID,cAAJ,CAAmB;AAClCE,aAAI,CAAC9C,MAAL;AACD,OAFgB,CAAjB;;AAIA,WAAK6C,SAAL,CAAeE,OAAf,CAAuB5B,SAAvB;AACD;;AAEDZ,gBAAY,CAACyC,GAAb,CAAiBvC,WAAjB,EAA8B,IAA9B,EA5DqC,CA8DrC;;AACAwC,yBAAqB,CAAC;AACpBH,WAAI,CAACI,KAAL;AACD,KAFoB,CAArB;AAGD;;AAhHDC,wBAAIC,mBAAJ,EAAI,QAAJ,EAAU;AAHV;;;SAGA;AACE,UAAIC,IAAI,GAAG,KAAK5C,WAAL,CAAiB6C,aAA5B;;AAEA,aAAOD,IAAP,EAAa;AACX,YAAME,eAAe,GAAGhD,YAAY,CAACiD,GAAb,CAAiBH,IAAjB,CAAxB;;AAEA,YAAIE,eAAJ,EAAqB;AACnB,iBAAOA,eAAP;AACD;;AAEDF,YAAI,GAAGA,IAAI,CAACC,aAAZ;AACD;;AAED,aAAO,IAAP;AACD,KAdS;oBAAA;;AAAA,GAAV;AAmBAH,wBAAIC,mBAAJ,EAAI,WAAJ,EAAa;AAHb;;;SAGA;AACE,aAAO,KAAKK,MAAL,CAAY7C,CAAnB;AACD,KAFY;SAGb,aAAcA,CAAd,EAAuB;AACrB,WAAKT,WAAL,CAAiB,KAAKuC,UAAtB,EAAkC9B,CAAlC;AACD,KALY;oBAAA;;AAAA,GAAb;AAUAuC,wBAAIC,mBAAJ,EAAI,YAAJ,EAAc;AAHd;;;SAGA;AACE,aAAO,KAAKK,MAAL,CAAY9C,CAAnB;AACD,KAFa;SAGd,aAAeA,CAAf,EAAwB;AACtB,WAAKR,WAAL,CAAiBQ,CAAjB,EAAoB,KAAK8B,SAAzB;AACD,KALa;oBAAA;;AAAA,GAAd;AAqFA;;;;;AAIAW;AACE,WAAOrD,OAAO,CAAC,IAAD,CAAd;AACD,GAFD;AAIA;;;;;;;;AAMAqD;AACEpD,UAAM,CAAC,IAAD,CAAN;;AAEA,SAAKuC,QAAL,CAAcL,OAAd,CAAsB,UAACwB,MAAD,EAAO;AAC3BA,YAAM,CAACC,QAAP;AACD,KAFD;AAGD,GAND;AAQA;;;;;AAGAP,4CAAUC,IAAV,EAA2B;AACzB,WAAOpD,SAAS,CAAC,IAAD,EAAOoD,IAAP,CAAhB;AACD,GAFD;AAIA;;;;;AAGAD,8CACEzC,CADF,EAEEC,CAFF,EAGEF,OAHF,EAG6C;AAH7C;;AACE;AAAAC,UAAI,KAAK8C,MAAL,CAAY9C,CAAhB;AAAiB;;AACjB;AAAAC,UAAI,KAAK6C,MAAL,CAAY7C,CAAhB;AAAiB;;AACjB;AAAAF;AAA2C;;AAE3C,QAAMkD,MAAM,GAAGzD,WAAW,CAAC,IAAD,EAAOQ,CAAP,EAAUC,CAAV,CAA1B;;AAEA,QAAI,CAACgD,MAAD,IAAWlD,OAAO,CAACiC,gBAAvB,EAAyC;AACvC;AACD;;AAED,SAAKkB,UAAL,CAAgB3B,OAAhB,CAAwB,UAAC4B,EAAD,EAAG;AACzBA,QAAE,CAACC,IAAH,CAAQjB,KAAR,EAAcc,MAAd;AACD,KAFD;AAGD,GAdD;AAgBA;;;;;AAGAR,2CACEzC,CADF,EAEEC,CAFF,EAGEoD,QAHF,EAIEtD,OAJF,EAI0C;AAHxC;AAAAC,UAAI,KAAK8C,MAAL,CAAY9C,CAAhB;AAAiB;;AACjB;AAAAC,UAAI,KAAK6C,MAAL,CAAY7C,CAAhB;AAAiB;;AACjB;AAAAoD;AAAY;;AACZ;AAAAtD;AAAwC;;AAExCR,YAAQ,CAAC,IAAD,EAAOS,CAAP,EAAUC,CAAV,EAAaoD,QAAb,EAAuBtD,OAAvB,CAAR;AACD,GAPD;AASA;;;;;;AAIA0C,iDACEC,IADF,EAEE3C,OAFF,EAEgD;AAA9C;AAAAA;AAA8C;;AAE9CN,kBAAc,CAAC,IAAD,EAAOiD,IAAP,EAAa3C,OAAb,CAAd;AACD,GALD;AAOA;;;;;AAGA0C,8CAAYU,EAAZ,EAAgC;AAC9B,QAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC5B,YAAM,IAAIG,SAAJ,CAAc,4DAAd,CAAN;AACD;;AAED,SAAKJ,UAAL,CAAgBK,GAAhB,CAAoBJ,EAApB;AACD,GAND;AAQA;;;;;AAGAV,iDAAeU,EAAf,EAAmC;AACjC,SAAKD,UAAL,WAAuBC,EAAvB;AACD,GAFD;AAIA;;;;;AAGAV,2DACEzC,CADF,EAEEC,CAFF,EAGEuD,SAHF,EAIEC,QAJF,EAI+C;AAE7C,SAAKC,gBAAL;;AAEA,QAAMC,UAAU,GAAG,KAAK/B,QAAL,CAAcgC,MAAd,CAAqB,UAACC,KAAD,EAAQd,MAAR,EAAc;AACpD,aAAOA,MAAM,CAACe,cAAP,CAAsBD,KAAtB,EAA6BL,SAA7B,KAA2CK,KAAlD;AACD,KAFkB,EAEhB;AAAE7D,OAAC,GAAH;AAAKC,OAAC;AAAN,KAFgB,CAAnB;;AAIA,QAAM8D,UAAU,GAAG,CAAC,KAAKC,wBAAL,CAA8BL,UAAU,CAAC3D,CAAzC,EAA4C2D,UAAU,CAAC1D,CAAvD,CAApB;;AAEA,QAAI8D,UAAJ,EAAgB;AACd,WAAKE,WAAL,CAAiBN,UAAU,CAAC3D,CAA5B,EAA+B2D,UAAU,CAAC1D,CAA1C;AACD;;AAED,QAAIwD,QAAJ,EAAc;AACZA,cAAQ,CAACL,IAAT,CAAc,IAAd,EAAoBW,UAApB;AACD;AACF,GArBD;AAuBA;;;;;AAGAtB,8CAAYzC,CAAZ,EAAuBC,CAAvB,EAAgC;AAC9B,SAAKiE,WAAL,CACE,KAAKC,SAAL,CAAenE,CAAf,GAAmBA,CADrB,EAEE,KAAKmE,SAAL,CAAelE,CAAf,GAAmBA,CAFrB;AAID,GALD;AAOA;;;;;AAGAwC,8CAAYzC,CAAZ,EAAuBC,CAAvB,EAAgC;AAC9B,QAAI,KAAKmE,KAAL,CAAWpE,CAAX,KAAiB,CAArB,EAAwB;AACtBA,OAAC,GAAG,CAAJ;AACD;;AACD,QAAI,KAAKoE,KAAL,CAAWnE,CAAX,KAAiB,CAArB,EAAwB;AACtBA,OAAC,GAAG,CAAJ;AACD;;AAED,QAAI,KAAKF,OAAL,CAAasE,cAAjB,EAAiC;AAC/BrE,OAAC,GAAGsE,IAAI,CAACC,KAAL,CAAWvE,CAAX,CAAJ;AACAC,OAAC,GAAGqE,IAAI,CAACC,KAAL,CAAWtE,CAAX,CAAJ;AACD;;AAED,SAAKkE,SAAL,CAAenE,CAAf,GAAmBA,CAAnB;AACA,SAAKmE,SAAL,CAAelE,CAAf,GAAmBA,CAAnB;AACD,GAfD;AAiBA;;;;;;;;AAMAwC,sDAAoB+B,UAApB,EAAwCzE,OAAxC,EAAqD;AACnD,SAAK6B,QAAL,CAAcL,OAAd,CAAsB,UAACwB,MAAD,EAAO;AAC3B,UAAIA,MAAM,CAAC0B,IAAP,KAAgBD,UAApB,EAAgC;AAC9BhC,cAAM,CAACkC,MAAP,CAAc3B,MAAM,CAAChD,OAArB,EAA8BA,OAA9B;AACD;AACF,KAJD;AAKD,GAND;;AAQA0C;AACQ;AAAA,QACJ3C,4BADI;AAAA,QAEJU,wBAFI;;AAKNvB,iBAAa,CAAC,IAAD,CAAb;;AACA,SAAKiE,UAAL,CAAgByB,KAAhB;;AAEA,SAAKT,WAAL,CAAiB,CAAjB,EAAoB,CAApB;AACAU,wBAAoB,CAAC,KAAKC,SAAN,CAApB;;AAEA,QAAI,KAAK3C,SAAT,EAAoB;AAClB,WAAKA,SAAL,CAAe4C,UAAf;AACD;;AAEDlF,gBAAY,UAAZ,CAAoB,KAAKE,WAAzB,EAhBF,CAkBE;;AACA,QAAMwB,UAAU,GAAGF,KAAK,CAACC,IAAN,CAAWb,SAAS,CAACc,UAArB,CAAnB;;AAEA,WAAOxB,WAAW,CAACiF,UAAnB,EAA+B;AAC7BjF,iBAAW,CAACkF,WAAZ,CAAwBlF,WAAW,CAACiF,UAApC;AACD;;AAEDzD,cAAU,CAACC,OAAX,CAAmB,UAAC0D,EAAD,EAAG;AACpBnF,iBAAW,CAAC2B,WAAZ,CAAwBwD,EAAxB;AACD,KAFD,EAzBF,CA6BE;;AACAjG,YAAQ,CAACc,WAAD,EAAc;AACpBc,cAAQ,EAAE;AADU,KAAd,CAAR;AAGAd,eAAW,CAACgC,SAAZ,GAAwB,KAAKA,SAA7B;AACAhC,eAAW,CAACiC,UAAZ,GAAyB,KAAKA,UAA9B,CAlCF,CAoCE;;AACA,SAAKH,QAAL,CAAcL,OAAd,CAAsB,UAACwB,MAAD,EAAO;AAC3BA,YAAM,CAACmC,SAAP;AACD,KAFD;;AAGA,SAAKtD,QAAL,CAAcuD,MAAd,GAAuB,CAAvB;AACD,GAzCD;;AA2CQ1C,8BAAR;AAAA;;AACE,SAAKpD,MAAL,GADF,CAGE;;AACAmD,UAAM,CAAC4C,IAAP,CAAYzF,aAAZ,EAA2B4B,OAA3B,CAAmC,UAAC8D,IAAD,EAAK;AACtC1F,mBAAa,CAAC0F,IAAD,CAAb,CAAoBlD,KAApB;AACD,KAFD,EAJF,CAQE;;AACA,SAAKP,QAAL,CAAcL,OAAd,CAAsB,UAACwB,MAAD,EAAO;AAC3BA,YAAM,CAACuC,MAAP;AACD,KAFD;;AAIA,SAAKC,OAAL;AACD,GAdO;;AAiBA9C,yCAAR;AACE,SAAKpD,MAAL;AACD,GAFO,CAjYV,CAqYE;AACA;AACA;AACA;;;AACQoD,iDAAR,UAAiC+C,MAAjC,EAA6CC,MAA7C,EAAuD;AAAtB;AAAAD;AAAU;;AAAE;AAAAC;AAAU;;AAC/C;AAAA,QACJ1F,oBADI;AAAA,QAEJ+C,kBAFI;AAAA,QAGJsB,gBAHI;;AAMN,QAAI,CAACrE,OAAO,CAAC2F,mBAAb,EAAkC,OAAO,KAAP,CAPmB,CASrD;;AACA,QAAItB,KAAK,CAACpE,CAAN,KAAY,CAAZ,IAAiBoE,KAAK,CAACnE,CAAN,KAAY,CAAjC,EAAoC;AAClC,WAAKyD,gBAAL;AACD;;AAED,QAAMiC,KAAK,GAAG7G,KAAK,CAAC0G,MAAM,GAAG1C,MAAM,CAAC9C,CAAjB,EAAoB,CAApB,EAAuBoE,KAAK,CAACpE,CAA7B,CAAnB;AACA,QAAM4F,KAAK,GAAG9G,KAAK,CAAC2G,MAAM,GAAG3C,MAAM,CAAC7C,CAAjB,EAAoB,CAApB,EAAuBmE,KAAK,CAACnE,CAA7B,CAAnB;AACA,QAAI4F,GAAG,GAAG,IAAV,CAhBqD,CAkBrD;AACA;;AACAA,OAAG,GAAGA,GAAG,IAAKF,KAAK,KAAK7C,MAAM,CAAC9C,CAA/B;AACA6F,OAAG,GAAGA,GAAG,IAAKD,KAAK,KAAK9C,MAAM,CAAC7C,CAA/B,CArBqD,CAuBrD;;AACA4F,OAAG,GAAGA,GAAG,KAAK/C,MAAM,CAAC9C,CAAP,KAAaoE,KAAK,CAACpE,CAAnB,IAAwB8C,MAAM,CAAC9C,CAAP,KAAa,CAArC,IAA0C8C,MAAM,CAAC7C,CAAP,KAAamE,KAAK,CAACnE,CAA7D,IAAkE6C,MAAM,CAAC7C,CAAP,KAAa,CAApF,CAAT;AAEA,WAAO4F,GAAP;AACD,GA3BO;;AA6BApD,gCAAR;AAEI;;AAGF,QAAI0B,SAAS,CAACnE,CAAV,IAAemE,SAAS,CAAClE,CAA7B,EAAgC;AAC9B,UAAM6F,KAAK,GAAG,KAAKC,SAAL,CAAe,GAAf,CAAd;;AACA,UAAMC,KAAK,GAAG,KAAKD,SAAL,CAAe,GAAf,CAAd;;AAEA5B,eAAS,CAACnE,CAAV,GAAc8F,KAAK,CAACG,QAApB;AACA9B,eAAS,CAAClE,CAAV,GAAc+F,KAAK,CAACC,QAApB;AAEA,WAAKzG,WAAL,CAAiBsG,KAAK,CAACI,QAAvB,EAAiCF,KAAK,CAACE,QAAvC;AACD;;AAED,QAAMC,MAAM,gBAAQ,KAAKhC,SAAb,CAAZ;;AAEA,SAAKvC,QAAL,CAAcL,OAAd,CAAsB,UAACwB,MAAD,EAAO;AAC3BA,YAAM,CAACqD,QAAP,CAAgBD,MAAhB;AACD,KAFD;;AAIA,SAAKtB,SAAL,GAAiBvC,qBAAqB,CAAC,KAAKiD,OAAL,CAAac,IAAb,CAAkB,IAAlB,CAAD,CAAtC;AACD,GAtBO;;AAwBA5D,kCAAR,UAAkB6D,SAAlB,EAAsC;AAC9B;AAAA,QACJvG,oBADI;AAAA,QAEJ+C,kBAFI;AAAA,QAGJqB,wBAHI;;AAMN,QAAMoC,OAAO,GAAGzD,MAAM,CAACwD,SAAD,CAAtB;AACA,QAAMH,MAAM,GAAGhC,SAAS,CAACmC,SAAD,CAAxB;;AAEA,QAAIhC,IAAI,CAACkC,GAAL,CAASL,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,aAAO;AACLF,gBAAQ,EAAE,CADL;AAELC,gBAAQ,EAAEK,OAAO,GAAGJ;AAFf,OAAP;AAID;;AAED,QAAIM,YAAY,GAAGN,MAAM,IAAI,IAAIpG,OAAO,CAAC2G,OAAhB,CAAzB;;AAEA,QAAI3G,OAAO,CAACsE,cAAZ,EAA4B;AAC1BoC,kBAAY,IAAI,CAAhB;AACD;;AAED,WAAO;AACLR,cAAQ,EAAEQ,YADL;AAELP,cAAQ,EAAEK,OAAO,GAAGJ,MAAV,GAAmBM;AAFxB,KAAP;AAID,GA3BO;;AA7DRE,cADCzH,QAAQ,CAAC,GAAD,EAAM;AAAE0H,WAAO,EAAE;AAAX,GAAN,CACT;;AAyFF;AA1dA;;SAAanE","names":["clamp","Options","setStyle","clearEventsOn","debounce","TrackController","getSize","update","isVisible","scrollTo","setPosition","scrollIntoView","initPlugins","eventHandlers","scrollbarMap","Map","containerEl","options","x","y","Infinity","top","right","bottom","left","Set","contentEl","document","createElement","setAttribute","overflow","outline","window","navigator","msPointerEnabled","style","msTouchAction","className","Array","from","childNodes","forEach","node","appendChild","track","size","_plugins","plugins","scrollTop","scrollLeft","withoutCallbacks","ResizeObserver","_observer","_this","observe","set","requestAnimationFrame","_init","Object","Scrollbar","elem","parentElement","parentScrollbar","get","offset","plugin","onUpdate","status","_listeners","fn","call","duration","TypeError","add","fromEvent","callback","_updateDebounced","finalDelta","reduce","delta","transformDelta","willScroll","_shouldPropagateMomentum","addMomentum","setMomentum","_momentum","limit","renderByPixels","Math","round","pluginName","name","assign","clear","cancelAnimationFrame","_renderID","disconnect","firstChild","removeChild","el","onDestroy","length","keys","prop","onInit","_render","deltaX","deltaY","continuousScrolling","destX","destY","res","nextX","_nextTick","nextY","momentum","position","remain","onRender","bind","direction","current","abs","nextMomentum","damping","__decorate","leading"],"sourceRoot":"","sources":["src/scrollbar.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}