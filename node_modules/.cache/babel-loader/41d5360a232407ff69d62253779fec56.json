{"ast":null,"code":"import axios from 'axios';\nimport { reactive } from 'vue'; // import { api_url } from '../../utils/const';\n\nexport default {\n  setup() {\n    const form = reactive({\n      email: '',\n      password: ''\n    });\n\n    const handleSubmit = async () => {\n      console.log(form);\n\n      try {\n        const response = await axios.post('http://127.0.0.1:8000/api/login', { ...form\n        });\n        const token = response.data.token; // console.log(response.data.user);\n\n        sessionStorage.setItem('token', token);\n        this.$store.dispatch('handleUserLogin', response.data.user);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    return {\n      form,\n      handleSubmit\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAkHA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,KAAzB,C,CACA;;AAEA,eAAe;AACXC,OAAK,GAAG;AACJ,UAAMC,IAAG,GAAIF,QAAQ,CAAC;AAClBG,WAAK,EAAE,EADW;AAElBC,cAAQ,EAAE;AAFQ,KAAD,CAArB;;AAKA,UAAMC,YAAW,GAAI,YAAY;AAC7BC,aAAO,CAACC,GAAR,CAAYL,IAAZ;;AACA,UAAI;AACA,cAAMM,QAAO,GAAI,MAAMT,KAAK,CAACU,IAAN,CAAW,iCAAX,EAA8C,EACjE,GAAGP;AAD8D,SAA9C,CAAvB;AAGA,cAAMQ,KAAI,GAAIF,QAAQ,CAACG,IAAT,CAAcD,KAA5B,CAJA,CAMA;;AAEAE,sBAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCH,KAAhC;AAEA,aAAKI,MAAL,CAAYC,QAAZ,CAAqB,iBAArB,EAAwCP,QAAQ,CAACG,IAAT,CAAcK,IAAtD;AAEJ,OAZA,CAYE,OAAOC,GAAP,EAAY;AACVX,eAAO,CAACC,GAAR,CAAYU,GAAZ;AACJ;AACJ,KAjBA;;AAmBA,WAAO;AACHf,UADG;AAEHG;AAFG,KAAP;AAIJ;;AA9BW,CAAf","names":["axios","reactive","setup","form","email","password","handleSubmit","console","log","response","post","token","data","sessionStorage","setItem","$store","dispatch","user","err"],"sourceRoot":"","sources":["/Users/macbookpro/Documents/projects/windzo/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"form-login form-wrap\">\n      <form @submit.prevent=\"handleSubmit\">\n        <h3>Login</h3>\n        <div v-show=\"error\" class=\"alert alert-danger\" role=\"alert\">\n          {{ errorMsg }}\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            class=\"form-control\"\n            v-model=\"form.email\"\n            placeholder=\"Email\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"\">Password</label>\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            v-model=\"form.password\"\n            placeholder=\"Password\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <button class=\"btn btn-primary btn-block\">Login</button>\n          Don't have an account yet?\n          <!-- <router-link to=\"/register\">Create a new account</router-link> -->\n        </div>\n      </form>\n    </div>\n  </div>\n\n  <!--\n  This example requires Tailwind CSS v2.0+ \n  \n  This example requires some changes to your config:\n  \n  ```\n  // tailwind.config.js\n  module.exports = {\n    // ...\n    plugins: [\n      // ...\n      require('@tailwindcss/forms'),\n    ],\n  }\n  ```\n-->\n<!--\n  This example requires updating your template:\n\n  ```\n  <html class=\"h-full bg-gray-50\">\n  <body class=\"h-full\">\n  ```\n-->\n<div class=\"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n  <div class=\"max-w-md w-full space-y-8\">\n    <div>\n      <img class=\"mx-auto h-12 w-auto\" src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg\" alt=\"Workflow\">\n      <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Sign in to your account</h2>\n      <p class=\"mt-2 text-center text-sm text-gray-600\">\n        Or\n        <a href=\"#\" class=\"font-medium text-indigo-600 hover:text-indigo-500\"> start your 14-day free trial </a>\n      </p>\n    </div>\n    <form class=\"mt-8 space-y-6\" action=\"#\" method=\"POST\">\n      <input type=\"hidden\" name=\"remember\" value=\"true\">\n      <div class=\"rounded-md shadow-sm -space-y-px\">\n        <div>\n          <label for=\"email-address\" class=\"sr-only\">Email address</label>\n          <input id=\"email-address\" name=\"email\" type=\"email\" autocomplete=\"email\" required class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\" placeholder=\"Email address\">\n        </div>\n        <div>\n          <label for=\"password\" class=\"sr-only\">Password</label>\n          <input id=\"password\" name=\"password\" type=\"password\" autocomplete=\"current-password\" required class=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\" placeholder=\"Password\">\n        </div>\n      </div>\n\n      <div class=\"flex items-center justify-between\">\n        <div class=\"flex items-center\">\n          <input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\">\n          <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\"> Remember me </label>\n        </div>\n\n        <div class=\"text-sm\">\n          <a href=\"#\" class=\"font-medium text-indigo-600 hover:text-indigo-500\"> Forgot your password? </a>\n        </div>\n      </div>\n\n      <div>\n        <button type=\"submit\" class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">\n          <span class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n            <!-- Heroicon name: solid/lock-closed -->\n            <svg class=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n              <path fill-rule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clip-rule=\"evenodd\" />\n            </svg>\n          </span>\n          Sign in\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n\n</template>\n<script>\nimport axios from 'axios';\nimport { reactive } from 'vue'\n// import { api_url } from '../../utils/const';\n\nexport default {\n    setup() {\n        const form = reactive({\n            email: '',\n            password: '',\n        })\n\n        const handleSubmit = async () => {\n            console.log(form)\n            try {\n                const response = await axios.post('http://127.0.0.1:8000/api/login', {\n                    ...form\n                });\n                const token = response.data.token;\n                \n                // console.log(response.data.user);\n\n                sessionStorage.setItem('token', token)\n\n                this.$store.dispatch('handleUserLogin', response.data.user);\n\n            } catch (err) {\n                console.log(err);\n            }\n        }\n\n        return {\n            form,\n            handleSubmit\n        }\n    }\n}\n\n</script>\n\n<style scoped>\n.btn {\n  margin-right: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}