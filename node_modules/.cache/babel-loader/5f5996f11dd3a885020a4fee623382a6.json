{"ast":null,"code":"import axios from 'axios'; // import { useCookies } from 'vue3-cookies';\n// import { api_url } from '../../utils/const';\n\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      username: '',\n      password: '',\n      error: false,\n      errorMsg: ''\n    };\n  },\n\n  mounted() {\n    if (this.$store.state.curUser != null) {\n      this.$router.push('home');\n    }\n  },\n\n  methods: {\n    async handleSubmit() {\n      try {\n        // e.preventDefault();\n        const response = await axios.post('http://127.0.0.1:8000/api/login', {\n          email: this.email,\n          password: this.password\n        });\n        console.log(response.data);\n        const token = response.data.token;\n        console.log(token); // this.cookies.set('token', response.data.data);\n        // this.$store.getters.socket.sendObj({\n        //   type: 'login',\n        //   args: [response.data.data],\n        // });\n\n        axios.get('http://127.0.0.1:8000/api/projects', {\n          headers: {\n            \"Authorization\": `Bearer ${token}`\n          }\n        }).then(res => {\n          console.log(res.data);\n        }); // this.$router.push('home');\n      } catch (err) {\n        console.log(err); // const msgs = err.response.data.message.split(':');\n        // this.error = true;\n        // this.errorMsg = msgs[msgs.length - 1];\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+GA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;;AAEA,eAAe;AACbC,MAAI,EAAE,OADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,cAAQ,EAAE,EADL;AAELC,cAAQ,EAAE,EAFL;AAGLC,WAAK,EAAE,KAHF;AAILC,cAAQ,EAAE;AAJL,KAAP;AAMD,GATY;;AAUbC,SAAO,GAAG;AACR,QAAI,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,OAAlB,IAA6B,IAAjC,EAAuC;AACrC,WAAKC,OAAL,CAAaC,IAAb,CAAkB,MAAlB;AACF;AACD,GAdY;;AAebC,SAAO,EAAE;AACP,UAAMC,YAAN,GAAqB;AACnB,UAAI;AACF;AACA,cAAMC,QAAO,GAAI,MAAMf,KAAK,CAACgB,IAAN,CAAW,iCAAX,EAA8C;AACnEC,eAAK,EAAE,KAAKA,KADuD;AAEnEb,kBAAQ,EAAE,KAAKA;AAFoD,SAA9C,CAAvB;AAIAc,eAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACb,IAArB;AACA,cAAMkB,KAAI,GAAIL,QAAQ,CAACb,IAAT,CAAckB,KAA5B;AACAF,eAAO,CAACC,GAAR,CAAYC,KAAZ,EARE,CASF;AACA;AACA;AACA;AACA;;AAEApB,aAAK,CAACqB,GAAN,CAAU,oCAAV,EAAiD;AAAEC,iBAAO,EAAE;AAAC,6BAAmB,UAASF,KAAM;AAAnC;AAAX,SAAjD,EACKG,IADL,CACUC,GAAE,IAAK;AACTN,iBAAO,CAACC,GAAR,CAAYK,GAAG,CAACtB,IAAhB;AACH,SAHL,EAfE,CAoBF;AACF,OArBA,CAqBE,OAAOuB,GAAP,EAAY;AACZP,eAAO,CAACC,GAAR,CAAYM,GAAZ,EADY,CAEZ;AACA;AACA;AACF;AACD;;AA7BM;AAfI,CAAf","names":["axios","name","data","username","password","error","errorMsg","mounted","$store","state","curUser","$router","push","methods","handleSubmit","response","post","email","console","log","token","get","headers","then","res","err"],"sourceRoot":"","sources":["/Users/macbookpro/Documents/projects/windzo/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"form-login form-wrap\">\n      <form @submit.prevent=\"handleSubmit\">\n        <h3>Login</h3>\n        <div v-show=\"error\" class=\"alert alert-danger\" role=\"alert\">\n          {{ errorMsg }}\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            class=\"form-control\"\n            v-model=\"email\"\n            placeholder=\"Email\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"\">Password</label>\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            v-model=\"password\"\n            placeholder=\"Password\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <button class=\"btn btn-primary btn-block\">Login</button>\n          Don't have an account yet?\n          <router-link to=\"/register\">Create a new account</router-link>\n        </div>\n      </form>\n    </div>\n  </div>\n  <!-- <div\n        class=\"card row-span-3 bg-white dark:bg-white w-full rounded-md p-5 shadow\"\n      >\n        <h2 class=\"dark:text-black-200 text-center\">Login</h2>\n        <div class=\"wrapper-alert grid grid-cols-1 gap-3 mt-3\">\n          <div\n            class=\"primary-alert bg-blue-500 flex py-3 px-5 text-white w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"bytesize:info\" />\n            </span>\n            <span> Hello iam primary and can also info alert </span>\n          </div>\n          <div\n            class=\"success-alert flex bg-green-500 py-3 px-5 text-white w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"bi:check-circle\" />\n            </span>\n            <span> Hello iam alert success </span>\n          </div>\n          <div\n            class=\"warning-alert bg-orange-500 flex py-3 px-5 text-white w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"clarity:warning-line\" />\n            </span>\n            <span> Hello iam alert warning </span>\n          </div>\n          <div\n            class=\"danger-alert bg-red-500 flex py-3 px-5 text-white w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"ic:outline-dangerous\" />\n            </span>\n            <span> Hello iam alert danger </span>\n          </div>\n          <div\n            class=\"dark-alert bg-gray-800 flex py-3 px-5 text-white w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"bxs:moon\" />\n            </span>\n            <span> Hello iam alert dark </span>\n          </div>\n          <div\n            class=\"secondary-alert bg-gray-300 dark:bg-gray-800 flex py-3 px-5 text-gray-800 w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"bx:cog\" />\n            </span>\n            <span> Hello iam alert secondary </span>\n          </div>\n          <div\n            class=\"light-alert bg-gray-100 flex py-3 px-5 text-gray-800 w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"ci:sun\" />\n            </span>\n            <span> Hello iam alert light </span>\n          </div>\n          <div\n            class=\"light-alert bg-primary flex py-3 px-5 text-white w-full box-border rounded-md\"\n          >\n            <span class=\"text-2xl mr-3\">\n              <Icon icon=\"cib:visual-studio-code\" />\n            </span>\n            <span> Hello iam alert custom colors </span>\n          </div>\n        </div>\n      </div> -->\n</template>\n<script>\nimport axios from 'axios';\n// import { useCookies } from 'vue3-cookies';\n// import { api_url } from '../../utils/const';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      username: '',\n      password: '',\n      error: false,\n      errorMsg: '',\n    };\n  },\n  mounted() {\n    if (this.$store.state.curUser != null) {\n      this.$router.push('home');\n    }\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        // e.preventDefault();\n        const response = await axios.post('http://127.0.0.1:8000/api/login', {\n          email: this.email,\n          password: this.password,\n        });\n        console.log(response.data)\n        const token = response.data.token;\n        console.log(token)\n        // this.cookies.set('token', response.data.data);\n        // this.$store.getters.socket.sendObj({\n        //   type: 'login',\n        //   args: [response.data.data],\n        // });\n\n        axios.get('http://127.0.0.1:8000/api/projects' , { headers: {\"Authorization\" : `Bearer ${token}`} })\n            .then(res => {\n                console.log(res.data);\n            })\n\n        // this.$router.push('home');\n      } catch (err) {\n        console.log(err);\n        // const msgs = err.response.data.message.split(':');\n        // this.error = true;\n        // this.errorMsg = msgs[msgs.length - 1];\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn {\n  margin-right: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}